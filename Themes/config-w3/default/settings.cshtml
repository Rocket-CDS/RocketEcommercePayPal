@inherits DNNrocketAPI.render.DNNrocketTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using System
@using System.Linq
@using System.Xml
@using Simplisity;
@using DNNrocketAPI.Componants;
@using DNNrocketAPI;

@{
    var info = (SimplisityInfo)Model.List.First();
    var notifyurl = "https://" + PortalUtils.GetPortalAlias(DNNrocketUtils.GetCurrentCulture(), PortalUtils.GetPortalId()) + "/DesktopModules/DNNrocketModules/RocketEcommercePayPal/notify.ashx";
}


@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/API/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocketModules/RocketEcommerce/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocketModules/RocketEcommercePayPal/App_LocalResources/")


<div class="w3-row w3-padding">
    <div class="w3-col m2 w3-button w3-green simplisity_click " s-cmd="paypal_save" s-post="#datasave" s-fields=''>@ButtonText(ButtonTypes.save)</div>
    @if (Model.GetSettingBool("saved"))
    {
        <i class='fas fa-save w3-right simplisity_fadeout' style="font-size:24px"></i>
    }
</div>

<div id="datasave" class="w3-margin-top">

    <div class="w3-container ">
        <h2><i class="fab fa-paypal fa-x3"></i>&nbsp;@ResourceKey("provider.paypalsettings")</h2>
    </div>

    <div class="w3-container">
        <label>Assembly</label>
        @TextBox(info, "genxml/textbox/assembly", "class='w3-input w3-border'  autocomplete='off' disabled ", "RocketEcommercePayPal")
        <label>Namespace + Class</label>
        @TextBox(info, "genxml/textbox/namespaceclass", "class='w3-input w3-border'  autocomplete='off' disabled ", "RocketEcommerce.PayPal.BankInterface")
        <label>@ResourceKey("provider.notifyurl")</label>
        @TextBox(info, "genxml/textbox/notifyurl", "class='w3-input w3-border'  autocomplete='off'  ", notifyurl)
    </div>

    <div class="w3-container">

        <label>@ResourceKey("provider.returnurl")</label>
        @TextBox(info, "genxml/textbox/returnurl", "class='w3-input w3-border'  autocomplete='off'  ")

        <label>@ResourceKey("provider.testposturl")</label>
        @TextBox(info, "genxml/textbox/testposturl", "class='w3-input w3-border'  autocomplete='off'  ", "https://www.sandbox.paypal.com/cgi-bin/webscr")

        <label>@ResourceKey("provider.liveposturl")</label>
        @TextBox(info, "genxml/textbox/liveposturl", "class='w3-input w3-border'  autocomplete='off'  ", "https://www.paypal.com/cgi-bin/webscr")

        <label>@ResourceKey("provider.paypalid")</label>
        @TextBox(info, "genxml/textbox/paypalid", "class='w3-input w3-border'  autocomplete='off'  ")

        <label>@ResourceKey("provider.charset")</label>
        @TextBox(info, "genxml/textbox/charset", "class='form-control w3-input w3-border'  autocomplete='off'", "utf-8")

        <label>@ResourceKey("provider.currencycode")</label>
        @TextBox(info, "genxml/textbox/currencycode", "class='form-control w3-input w3-border'  autocomplete='off'", "EUR")

        <label>@ResourceKey("provider.extrafields")</label>
        @TextArea(info, "genxml/textbox/extrafields", "class='form-control w3-input w3-border'  autocomplete='off' rows='4'", "")

        <hr />

        <label>@ResourceKey("provider.preproduction")</label>
        @CheckBox(info, "genxml/checkbox/preproduction", "")

        <label>@ResourceKey("provider.debugmode")</label>
        @CheckBox(info, "genxml/checkbox/debugmode", "")


    </div>
</div>
